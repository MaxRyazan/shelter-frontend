{
  "openapi": "3.0.4",
  "info": {
    "title": "Shelter API",
    "version": "v1"
  },
  "paths": {
    "/api/auth/tokens/refresh": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Обновление токенов.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshTokenDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshTokenDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshTokenDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/RefreshTokenResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RefreshTokenResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/RefreshTokenResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/StatusCodes"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusCodes"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusCodes"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Авторизация пользователя по логину/паролю.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginUserRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginUserRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/LoginUserRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/LoginUserResponseDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginUserResponseDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginUserResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/StatusCodes"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusCodes"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusCodes"
                }
              }
            }
          }
        }
      }
    },
    "/api/sse/{userId}": {
      "get": {
        "tags": [
          "Events"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/sse/status": {
      "get": {
        "tags": [
          "Events"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/galaxy": {
      "post": {
        "tags": [
          "Galaxy"
        ],
        "summary": "Создание новой галактики",
        "description": "Пример запроса:\n            \n    POST /api/galaxy\n    {\n        \"form?\": \"Spiral\",\n    }\n            \nДоступные значения для form: Spiral, Elliptical, Irregular, Lenticular",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateGalaxyDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateGalaxyDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateGalaxyDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Галактика успешно создана",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Galaxy"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Galaxy"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Galaxy"
                }
              }
            }
          },
          "400": {
            "description": "Некорректные данные",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/StatusCodes"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusCodes"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusCodes"
                }
              }
            }
          }
        }
      }
    },
    "/api/planet/{id}": {
      "get": {
        "tags": [
          "Planet"
        ],
        "summary": "Получение планеты по Id",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/GetPlanetResponseDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetPlanetResponseDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetPlanetResponseDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/planet/building-operation": {
      "post": {
        "tags": [
          "Planet"
        ],
        "summary": "Добавить здание в очередь строительства (стройка или удаление, в зависимости от типа операции).",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBuildingDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBuildingDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBuildingDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/GetPlanetResponseDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetPlanetResponseDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetPlanetResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequestError"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequestError"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequestError"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/NotFoundError"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFoundError"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotFoundError"
                }
              }
            }
          }
        }
      }
    },
    "/api/star": {
      "post": {
        "tags": [
          "Star"
        ],
        "summary": "Создание новой звезды",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateStarDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateStarDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateStarDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Star"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Star"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Star"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/StatusCodes"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusCodes"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusCodes"
                }
              }
            }
          }
        }
      }
    },
    "/api/user/create": {
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Создание нового пользователя",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Пользователь успешно создан",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/CreateUserResponseDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateUserResponseDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateUserResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Ошибка создания",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/StatusCodes"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusCodes"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusCodes"
                }
              }
            }
          }
        }
      }
    },
    "/api/user/get-shared-items/{userId}": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Получение общих ресурсов пользователя",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "ID пользователя",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Ресурсы успешно получены",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/SharedResourcesResponseDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SharedResourcesResponseDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/SharedResourcesResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Пользователь не найден",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Внутренняя ошибка сервера"
          }
        }
      }
    },
    "/api/user/remove-shared-item": {
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Удаление из общего хранилища пользователя",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RemoveFromShareDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RemoveFromShareDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RemoveFromShareDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/user/get-planets/{userId}": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Получение списка планет пользователя по userId",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GetPlanetResponseDto"
                  }
                }
              },
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GetPlanetResponseDto"
                  }
                }
              },
              "text/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GetPlanetResponseDto"
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "BadRequestError": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "format": "int32",
            "default": 400
          },
          "message": {
            "type": "string",
            "default": "Some parameters are missing or invalid",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "BuildingActionType": {
        "enum": [
          "Construct",
          "Demolish"
        ],
        "type": "string"
      },
      "BuildingQueue": {
        "required": [
          "actionType",
          "buildingType",
          "count",
          "createdAt",
          "readyAt"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "buildingType": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "actionType": {
            "$ref": "#/components/schemas/BuildingActionType"
          },
          "count": {
            "type": "integer",
            "format": "int32"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "readOnly": true
          },
          "readyAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "CitizensDto": {
        "type": "object",
        "properties": {
          "maxCitizens": {
            "type": "integer",
            "format": "int32"
          },
          "currentCitizens": {
            "type": "integer",
            "format": "int32"
          },
          "consuming": {
            "type": "integer",
            "format": "int32"
          },
          "balance": {
            "type": "integer",
            "format": "int32"
          },
          "notEnoughCitizensPercent": {
            "type": "number",
            "format": "double"
          },
          "birthRate": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "CreateBuildingDto": {
        "required": [
          "actionType",
          "buildingType",
          "planetId"
        ],
        "type": "object",
        "properties": {
          "planetId": {
            "type": "integer",
            "description": "ID планеты",
            "format": "int32"
          },
          "buildingType": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string",
            "description": "Тип здания (Storage, Factory, Mine)"
          },
          "actionType": {
            "$ref": "#/components/schemas/BuildingActionType"
          },
          "count": {
            "maximum": 1000,
            "minimum": 1,
            "type": "integer",
            "description": "Количество зданий для добавления",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "CreateGalaxyDto": {
        "type": "object",
        "properties": {
          "form": {
            "$ref": "#/components/schemas/GalaxyForm"
          },
          "coordinateX": {
            "type": "integer",
            "format": "int32"
          },
          "coordinateY": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "CreateStarDto": {
        "type": "object",
        "properties": {
          "galaxyId": {
            "type": "integer",
            "format": "int32"
          },
          "coordinateX": {
            "type": "integer",
            "format": "int32"
          },
          "coordinateY": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "CreateUserRequestDto": {
        "type": "object",
        "properties": {
          "nickName": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "password": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CreateUserResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "nickName": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "homePlanetId": {
            "type": "integer",
            "format": "int32"
          },
          "homePlanetName": {
            "type": "string",
            "nullable": true
          },
          "spaceStationsIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "nullable": true
          },
          "planetsIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "nullable": true
          },
          "fleetsIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "nullable": true
          },
          "money": {
            "type": "integer",
            "format": "int32"
          },
          "gameMoney": {
            "type": "integer",
            "format": "int64"
          },
          "subscriptionActive": {
            "type": "boolean"
          },
          "isAdmin": {
            "type": "boolean"
          },
          "isModerator": {
            "type": "boolean"
          },
          "subscriptionExpiresAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "ElectricityDto": {
        "type": "object",
        "properties": {
          "incoming": {
            "type": "number",
            "format": "double"
          },
          "consuming": {
            "type": "number",
            "format": "double"
          },
          "balance": {
            "type": "number",
            "format": "double"
          },
          "notEnoughEnergyPercent": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "FoodDto": {
        "type": "object",
        "properties": {
          "incoming": {
            "type": "number",
            "format": "double"
          },
          "consuming": {
            "type": "number",
            "format": "double"
          },
          "balance": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "Galaxy": {
        "required": [
          "centralBlackHoleId",
          "coordinateX",
          "coordinateY",
          "createdAt",
          "form",
          "isActive",
          "name",
          "radius",
          "updatedAt"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "name": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "radius": {
            "type": "number",
            "format": "float"
          },
          "form": {
            "$ref": "#/components/schemas/GalaxyForm"
          },
          "coordinateX": {
            "type": "integer",
            "format": "int32"
          },
          "coordinateY": {
            "type": "integer",
            "format": "int32"
          },
          "centralBlackHoleId": {
            "type": "integer",
            "format": "int32"
          },
          "starSystems": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "nullable": true
          },
          "specialObjects": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "stars": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Star"
            },
            "nullable": true
          },
          "isActive": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "GalaxyForm": {
        "enum": [
          "Spiral",
          "Elliptical",
          "Irregular",
          "Lenticular"
        ],
        "type": "string"
      },
      "GetPlanetResponseDto": {
        "required": [
          "buildingQueue",
          "buildings",
          "planetResources"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "radius": {
            "type": "integer",
            "format": "int32"
          },
          "hasAtmosphere": {
            "type": "boolean"
          },
          "hasMagneticField": {
            "type": "boolean"
          },
          "isHomePlanet": {
            "type": "boolean"
          },
          "averageTemperature": {
            "type": "integer",
            "format": "int32"
          },
          "square": {
            "type": "integer",
            "format": "int32"
          },
          "freeSquare": {
            "type": "integer",
            "format": "int32"
          },
          "gravityPower": {
            "type": "integer",
            "format": "int32"
          },
          "distanceFromStar": {
            "type": "integer",
            "format": "int32"
          },
          "planetOwnerId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "buildings": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PlanetBuilding"
            },
            "nullable": true
          },
          "buildingQueue": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BuildingQueue"
            },
            "nullable": true
          },
          "citizens": {
            "$ref": "#/components/schemas/CitizensDto"
          },
          "taxes": {
            "$ref": "#/components/schemas/TaxDto"
          },
          "electricity": {
            "$ref": "#/components/schemas/ElectricityDto"
          },
          "food": {
            "$ref": "#/components/schemas/FoodDto"
          },
          "parameters": {
            "$ref": "#/components/schemas/ParametersDto"
          },
          "planetResources": {
            "$ref": "#/components/schemas/PlanetResources"
          },
          "storage": {
            "$ref": "#/components/schemas/PlanetStorageDto"
          },
          "isStorageOverflow": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "LoginUserRequestDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "nullable": true
          },
          "password": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "LoginUserResponseDto": {
        "type": "object",
        "properties": {
          "user": {
            "$ref": "#/components/schemas/UserResponseDto"
          },
          "accessToken": {
            "type": "string",
            "nullable": true
          },
          "refreshToken": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "NotFoundError": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "format": "int32",
            "default": 404
          },
          "message": {
            "type": "string",
            "default": "Planet not found",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ParametersDto": {
        "type": "object",
        "properties": {
          "manpower": {
            "type": "integer",
            "format": "int32"
          },
          "resourceEconomy": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "Planet": {
        "required": [
          "averageTemperature",
          "buildSpeed",
          "distanceFromStar",
          "galaxyId",
          "gravityPower",
          "hasAtmosphere",
          "hasMagneticField",
          "isHomePlanet",
          "name",
          "radius",
          "square",
          "starId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "isStorageOverflow": {
            "type": "boolean"
          },
          "starId": {
            "type": "integer",
            "format": "int32"
          },
          "galaxyId": {
            "type": "integer",
            "format": "int32"
          },
          "foodProduction": {
            "type": "number",
            "format": "double"
          },
          "foodConsumption": {
            "type": "number",
            "format": "double"
          },
          "foodDelta": {
            "type": "number",
            "format": "double"
          },
          "energyDelta": {
            "type": "number",
            "format": "double"
          },
          "energyProduction": {
            "type": "number",
            "format": "double"
          },
          "energyConsumption": {
            "type": "number",
            "format": "double"
          },
          "notEnoughEnergyPercent": {
            "type": "number",
            "format": "double"
          },
          "maxCitizens": {
            "type": "integer",
            "format": "int32"
          },
          "currentCitizens": {
            "type": "integer",
            "format": "int32"
          },
          "citizenConsumption": {
            "type": "integer",
            "format": "int32"
          },
          "citizenDelta": {
            "type": "integer",
            "format": "int32"
          },
          "birthRate": {
            "type": "number",
            "format": "double"
          },
          "notEnoughCitizenPercent": {
            "type": "number",
            "format": "double"
          },
          "taxProduction": {
            "type": "number",
            "format": "double"
          },
          "taxConsumption": {
            "type": "number",
            "format": "double"
          },
          "taxDelta": {
            "type": "number",
            "format": "double"
          },
          "buildingsAmortization": {
            "type": "number",
            "format": "double"
          },
          "storeCapacity": {
            "type": "integer",
            "format": "int32",
            "readOnly": true
          },
          "planetManpower": {
            "type": "integer",
            "format": "int32",
            "readOnly": true
          },
          "storage": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PlanetStorage"
            },
            "description": "Items stored on this planet",
            "nullable": true
          },
          "planetResources": {
            "$ref": "#/components/schemas/PlanetResources"
          },
          "name": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string",
            "readOnly": true
          },
          "planetBuildings": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PlanetBuilding"
            },
            "description": "Buildings on this planet with counts",
            "nullable": true
          },
          "buildingQueue": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BuildingQueue"
            },
            "description": "Buildings currently in construction queue",
            "nullable": true
          },
          "radius": {
            "maximum": 40000,
            "minimum": 10000,
            "type": "integer",
            "format": "int32"
          },
          "hasAtmosphere": {
            "type": "boolean"
          },
          "hasTransportNetwork": {
            "type": "boolean"
          },
          "hasMagneticField": {
            "type": "boolean"
          },
          "isHomePlanet": {
            "type": "boolean"
          },
          "averageTemperature": {
            "maximum": 400,
            "minimum": -270,
            "type": "integer",
            "format": "int32",
            "readOnly": true
          },
          "hasActiveProductions": {
            "type": "boolean"
          },
          "square": {
            "type": "integer",
            "format": "int32",
            "readOnly": true
          },
          "freeSquare": {
            "type": "integer",
            "format": "int32",
            "readOnly": true
          },
          "buildSpeed": {
            "type": "integer",
            "format": "int32",
            "readOnly": true
          },
          "gravityPower": {
            "maximum": 6,
            "minimum": 1,
            "type": "integer",
            "format": "int32",
            "readOnly": true
          },
          "distanceFromStar": {
            "maximum": 30,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          },
          "planetOwnerId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "planetOwner": {
            "$ref": "#/components/schemas/User"
          }
        },
        "additionalProperties": false
      },
      "PlanetBuilding": {
        "required": [
          "buildingClass",
          "buildingType",
          "count",
          "efficiency",
          "lastProductionTime",
          "nextProductionTime"
        ],
        "type": "object",
        "properties": {
          "lastProductionTime": {
            "type": "string",
            "description": "Last time when this building produced resources",
            "format": "date-time"
          },
          "nextProductionTime": {
            "type": "string",
            "description": "Next time when this building will produce resources",
            "format": "date-time"
          },
          "buildingClass": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string",
            "readOnly": true
          },
          "buildingType": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "efficiency": {
            "type": "number",
            "format": "double"
          },
          "count": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "PlanetResources": {
        "type": "object",
        "properties": {
          "clay": {
            "type": "number",
            "format": "double"
          },
          "limestone": {
            "type": "number",
            "format": "double"
          },
          "iron": {
            "type": "number",
            "format": "double"
          },
          "coal": {
            "type": "number",
            "format": "double"
          },
          "boron": {
            "type": "number",
            "format": "double"
          },
          "nickel": {
            "type": "number",
            "format": "double"
          },
          "copper": {
            "type": "number",
            "format": "double"
          },
          "molybdenum": {
            "type": "number",
            "format": "double"
          },
          "vanadium": {
            "type": "number",
            "format": "double"
          },
          "oil": {
            "type": "number",
            "format": "double"
          },
          "titanium": {
            "type": "number",
            "format": "double"
          },
          "magnesium": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "PlanetStorage": {
        "required": [
          "amount",
          "groupType",
          "itemType",
          "planetId",
          "updatedAt"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "planetId": {
            "type": "integer",
            "format": "int32"
          },
          "groupType": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "itemType": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "amount": {
            "type": "number",
            "format": "double"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "PlanetStorageDto": {
        "type": "object",
        "properties": {
          "capacity": {
            "$ref": "#/components/schemas/StorageCapacityDto"
          },
          "resources": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StorageItemDto"
            },
            "nullable": true
          },
          "materials": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StorageItemDto"
            },
            "nullable": true
          },
          "metaMaterials": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StorageItemDto"
            },
            "nullable": true
          },
          "components": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StorageItemDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "PlayerResource": {
        "required": [
          "amount",
          "groupType",
          "resourceType",
          "updatedAt"
        ],
        "type": "object",
        "properties": {
          "userId": {
            "type": "integer",
            "description": "Reference to user",
            "format": "int32"
          },
          "resourceType": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "Type of resource"
          },
          "amount": {
            "type": "number",
            "description": "Current amount of resource",
            "format": "double"
          },
          "groupType": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "updatedAt": {
            "type": "string",
            "description": "Date and time when resource was last updated",
            "format": "date-time"
          },
          "user": {
            "$ref": "#/components/schemas/User"
          },
          "totalVolume": {
            "type": "number",
            "format": "double",
            "readOnly": true
          }
        },
        "additionalProperties": false
      },
      "ProblemDetails": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "nullable": true
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "detail": {
            "type": "string",
            "nullable": true
          },
          "instance": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": { }
      },
      "RefreshTokenDto": {
        "type": "object",
        "properties": {
          "refreshToken": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RefreshTokenResponse": {
        "type": "object",
        "properties": {
          "access_token": {
            "type": "string",
            "nullable": true,
            "readOnly": true
          },
          "refreshToken": {
            "type": "string",
            "nullable": true,
            "readOnly": true
          }
        },
        "additionalProperties": false
      },
      "RemoveFromShareDto": {
        "required": [
          "countToRemove",
          "resourceName",
          "userId"
        ],
        "type": "object",
        "properties": {
          "userId": {
            "type": "integer",
            "format": "int32"
          },
          "resourceName": {
            "type": "string",
            "nullable": true
          },
          "countToRemove": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "ResourceItemDto": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number",
            "format": "double"
          },
          "totalVolume": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "SharedResourcesResponseDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "integer",
            "format": "int32"
          },
          "resources": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/ResourceItemDto"
            },
            "nullable": true
          },
          "materials": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/ResourceItemDto"
            },
            "nullable": true
          },
          "metaMaterials": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/ResourceItemDto"
            },
            "nullable": true
          },
          "components": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/ResourceItemDto"
            },
            "nullable": true
          },
          "maxStorage": {
            "type": "number",
            "format": "double"
          },
          "currentStorage": {
            "type": "number",
            "format": "double"
          },
          "storageUsagePercent": {
            "type": "number",
            "format": "double"
          },
          "isOverflow": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "Star": {
        "required": [
          "age",
          "coordinateX",
          "coordinateY",
          "createdAt",
          "galaxyId",
          "gravityPower",
          "gravityRadius",
          "isActive",
          "name",
          "size",
          "temperature",
          "type",
          "updatedAt"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "galaxyId": {
            "type": "integer",
            "format": "int32"
          },
          "name": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "type": {
            "$ref": "#/components/schemas/StarType"
          },
          "size": {
            "$ref": "#/components/schemas/StarSize"
          },
          "coordinateX": {
            "type": "integer",
            "format": "int32"
          },
          "coordinateY": {
            "type": "integer",
            "format": "int32"
          },
          "temperature": {
            "type": "number",
            "format": "double",
            "readOnly": true
          },
          "gravityRadius": {
            "type": "integer",
            "format": "int32"
          },
          "gravityPower": {
            "$ref": "#/components/schemas/StarGravityPower"
          },
          "age": {
            "type": "number",
            "format": "double"
          },
          "planets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Planet"
            },
            "nullable": true
          },
          "isActive": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "galaxy": {
            "$ref": "#/components/schemas/Galaxy"
          },
          "planetIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "nullable": true,
            "readOnly": true
          }
        },
        "additionalProperties": false
      },
      "StarGravityPower": {
        "enum": [
          "VeryWeak",
          "Weak",
          "Medium",
          "Strong",
          "VeryStrong"
        ],
        "type": "integer",
        "format": "int32"
      },
      "StarSize": {
        "enum": [
          "Tiny",
          "Dwarf",
          "Normal",
          "Giant",
          "Supergiant"
        ],
        "type": "integer",
        "format": "int32"
      },
      "StarType": {
        "enum": [
          "YellowDwarf",
          "OrangeDwarf",
          "RedDwarf",
          "BlueGiant",
          "WhiteDwarf",
          "NeutronStar"
        ],
        "type": "integer",
        "format": "int32"
      },
      "StatusCodes": {
        "type": "object",
        "additionalProperties": false
      },
      "StorageCapacityDto": {
        "type": "object",
        "properties": {
          "maxCapacity": {
            "type": "integer",
            "format": "int32"
          },
          "currentFill": {
            "type": "number",
            "format": "double"
          },
          "storageUsagePercent": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "StorageItemDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "nullable": true
          },
          "amount": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "TaxDto": {
        "type": "object",
        "properties": {
          "incoming": {
            "type": "number",
            "format": "double"
          },
          "consuming": {
            "type": "number",
            "format": "double"
          },
          "balance": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "User": {
        "required": [
          "email",
          "nickName",
          "passwordHash"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "nickName": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string",
            "description": "Unique username for the user"
          },
          "email": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string",
            "description": "User's email address must be unique",
            "format": "email"
          },
          "passwordHash": {
            "maxLength": 100,
            "minLength": 10,
            "type": "string",
            "description": "Hashed password (min 10 characters)"
          },
          "createdAt": {
            "type": "string",
            "description": "Date and time when user was created",
            "format": "date-time"
          },
          "homePlanetId": {
            "type": "integer",
            "description": "Reference to user's home planet",
            "format": "int32",
            "nullable": true
          },
          "homePlanet": {
            "$ref": "#/components/schemas/Planet"
          },
          "planetsIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "description": "Array of references to user's planets",
            "nullable": true
          },
          "spaceStationsIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "description": "Array of references to user's space stations",
            "nullable": true
          },
          "fleetsIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "description": "Array of references to user's fleets",
            "nullable": true
          },
          "money": {
            "type": "integer",
            "description": "User's regular currency",
            "format": "int32"
          },
          "gameMoney": {
            "maximum": 999000000000,
            "minimum": 0,
            "type": "integer",
            "description": "User's premium currency (up to 999,000,000,000)",
            "format": "int64"
          },
          "subscriptionActive": {
            "type": "boolean",
            "description": "Whether user's subscription is active"
          },
          "subscriptionExpiresAt": {
            "type": "string",
            "description": "Date and time when subscription expires",
            "format": "date-time",
            "nullable": true
          },
          "isAdmin": {
            "type": "boolean",
            "description": "Whether user has administrator privileges"
          },
          "isModerator": {
            "type": "boolean",
            "description": "Whether user has moderator privileges"
          },
          "lastActivityTime": {
            "type": "string",
            "description": "Date and time of user's last activity",
            "format": "date-time",
            "readOnly": true
          },
          "resources": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PlayerResource"
            },
            "description": "User's global resources",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "UserResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "nickName": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "homePlanetId": {
            "type": "integer",
            "format": "int32"
          },
          "spaceStationsIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "nullable": true
          },
          "planetsIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "nullable": true
          },
          "fleetsIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "nullable": true
          },
          "money": {
            "type": "integer",
            "format": "int32"
          },
          "gameMoney": {
            "type": "integer",
            "format": "int64"
          },
          "subscriptionActive": {
            "type": "boolean"
          },
          "isAdmin": {
            "type": "boolean"
          },
          "isModerator": {
            "type": "boolean"
          },
          "subscriptionExpiresAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        },
        "additionalProperties": false
      }
    }
  }
}